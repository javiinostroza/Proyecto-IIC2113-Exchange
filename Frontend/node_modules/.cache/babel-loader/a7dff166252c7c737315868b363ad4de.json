{"ast":null,"code":"var _jsxFileName = \"/home/javiera/Documents/UNIVERSIDAD/2020-2/Dise\\xF1o Detallado de Software/exchange-ten-secondary/src/pages/Profile/index.jsx\";\nimport React, { useState } from 'react';\nimport { Tabs, Card, Table, Row, Col } from 'antd';\nimport Container from '../../components/layout/Container';\nimport api from '../../api';\nconst {\n  TabPane\n} = Tabs;\n\nconst LoggedHome = () => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [account, setAccount] = useState('');\n  const [clpBalance, setCLPBalance] = useState('');\n  const [btfBalance, setBTFBalance] = useState('');\n  const [bthBalance, setBTHBalance] = useState('');\n  const [allTransactions, setAllTransactions] = useState('');\n  const [sellTransactions, setSellTransactions] = useState('');\n  const [buyTransactions, setBuyTransactions] = useState('');\n  const transactionsColumns = [{\n    title: 'Transacción',\n    dataIndex: 'transaction',\n    key: 'transaction'\n  }, {\n    title: 'Venta / Compra',\n    dataIndex: 'transactionType',\n    key: 'transactionType'\n  }, {\n    title: 'Criptomoneda',\n    dataIndex: 'crypto',\n    key: 'crypto'\n  }, {\n    title: 'Monto (CLP)',\n    key: 'amount',\n    dataIndex: 'amount'\n  }];\n  React.useEffect(() => {\n    api.authFetch('/wallets', {\n      method: 'GET'\n    }).then(response => response.json()).then(resp => {\n      const completeName = `${resp.wallet.user.name} ${resp.wallet.user.lastname}`;\n      setUsername(completeName);\n      setEmail(resp.wallet.user.email);\n      setAccount(resp.wallet.id);\n      setCLPBalance(resp.wallet.clp);\n    });\n    api.authFetch('/balances', {\n      method: 'GET'\n    }).then(response => response.json()).then(resp => {\n      setBTFBalance(resp.balances[0].amount);\n      setBTHBalance(resp.balances[1].amount);\n    });\n    api.authFetch('/transactions', {\n      method: 'GET'\n    }).then(response => response.json()).then(resp => {\n      const orderedTransactions = resp.transactions.reverse();\n      const all = [];\n      const sell = [];\n      const buy = [];\n      let index = orderedTransactions.length;\n      orderedTransactions.forEach(trans => {\n        let transAmount;\n        let transType;\n\n        if (trans.amount < 0) {\n          transType = 'Compra';\n          transAmount = trans.amount * -1;\n          buy.push({\n            transaction: index,\n            transactionType: transType,\n            crypto: trans.cryptocurrency.name,\n            amount: transAmount\n          });\n        } else {\n          transType = 'Venta';\n          transAmount = trans.amount;\n          sell.push({\n            transaction: index,\n            transactionType: transType,\n            crypto: trans.cryptocurrency.name,\n            amount: transAmount\n          });\n        }\n\n        all.push({\n          transaction: index,\n          transactionType: transType,\n          crypto: trans.cryptocurrency.name,\n          amount: transAmount\n        });\n        index -= 1;\n      });\n      setAllTransactions(all);\n      setSellTransactions(sell);\n      setBuyTransactions(buy);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-card-border-less-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    size: \"small\",\n    title: username,\n    style: {\n      width: 250,\n      height: 170\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"contentCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"Email: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dataCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, email), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"contentCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, \"Account: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dataCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, account), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"contentCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \"CLP Balance: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dataCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, clpBalance), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"contentCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \" BTF Balance: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dataCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, btfBalance), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"contentCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"BTH Balance: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dataCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, bthBalance))))), /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    span: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    class: \"transaction-tables\",\n    defaultActiveKey: \"1\",\n    type: \"card\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    id: \"summaryTab1\",\n    tab: \"Transacciones\",\n    key: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    dataSource: allTransactions,\n    columns: transactionsColumns,\n    scroll: {\n      y: 150\n    },\n    pagination: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(TabPane, {\n    id: \"summaryTab2\",\n    tab: \"Ventas\",\n    key: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    dataSource: sellTransactions,\n    columns: transactionsColumns,\n    scroll: {\n      y: 150\n    },\n    pagination: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(TabPane, {\n    id: \"summaryTab3\",\n    tab: \"Compras\",\n    key: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    dataSource: buyTransactions,\n    columns: transactionsColumns,\n    scroll: {\n      y: 150\n    },\n    pagination: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    span: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default LoggedHome;","map":{"version":3,"sources":["/home/javiera/Documents/UNIVERSIDAD/2020-2/Diseño Detallado de Software/exchange-ten-secondary/src/pages/Profile/index.jsx"],"names":["React","useState","Tabs","Card","Table","Row","Col","Container","api","TabPane","LoggedHome","username","setUsername","email","setEmail","account","setAccount","clpBalance","setCLPBalance","btfBalance","setBTFBalance","bthBalance","setBTHBalance","allTransactions","setAllTransactions","sellTransactions","setSellTransactions","buyTransactions","setBuyTransactions","transactionsColumns","title","dataIndex","key","useEffect","authFetch","method","then","response","json","resp","completeName","wallet","user","name","lastname","id","clp","balances","amount","orderedTransactions","transactions","reverse","all","sell","buy","index","length","forEach","trans","transAmount","transType","push","transaction","transactionType","crypto","cryptocurrency","width","height","y"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Tabs, Card, Table, Row, Col } from 'antd';\n\nimport Container from '../../components/layout/Container';\nimport api from '../../api';\n\nconst { TabPane } = Tabs;\n\nconst LoggedHome = () => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [account, setAccount] = useState('');\n  const [clpBalance, setCLPBalance] = useState('');\n  const [btfBalance, setBTFBalance] = useState('');\n  const [bthBalance, setBTHBalance] = useState('');\n  const [allTransactions, setAllTransactions] = useState('');\n  const [sellTransactions, setSellTransactions] = useState('');\n  const [buyTransactions, setBuyTransactions] = useState('');\n  const transactionsColumns = [\n    {\n      title: 'Transacción',\n      dataIndex: 'transaction',\n      key: 'transaction',\n    },\n    {\n      title: 'Venta / Compra',\n      dataIndex: 'transactionType',\n      key: 'transactionType',\n    },\n    {\n      title: 'Criptomoneda',\n      dataIndex: 'crypto',\n      key: 'crypto',\n    },\n    {\n      title: 'Monto (CLP)',\n      key: 'amount',\n      dataIndex: 'amount',\n    },\n  ];\n\n  React.useEffect(() => {\n    api\n      .authFetch('/wallets', { method: 'GET' })\n      .then((response) => response.json())\n      .then((resp) => {\n        const completeName = `${resp.wallet.user.name} ${resp.wallet.user.lastname}`;\n        setUsername(completeName);\n        setEmail(resp.wallet.user.email);\n        setAccount(resp.wallet.id);\n        setCLPBalance(resp.wallet.clp);\n      });\n\n    api\n      .authFetch('/balances', { method: 'GET' })\n      .then((response) => response.json())\n      .then((resp) => {\n        setBTFBalance(resp.balances[0].amount);\n        setBTHBalance(resp.balances[1].amount);\n      });\n\n    api\n      .authFetch('/transactions', { method: 'GET' })\n      .then((response) => response.json())\n      .then((resp) => {\n        const orderedTransactions = resp.transactions.reverse();\n        const all = [];\n        const sell = [];\n        const buy = [];\n        let index = orderedTransactions.length;\n        orderedTransactions.forEach((trans) => {\n          let transAmount;\n          let transType;\n          if (trans.amount < 0) {\n            transType = 'Compra';\n            transAmount = trans.amount * -1;\n            buy.push({\n              transaction: index,\n              transactionType: transType,\n              crypto: trans.cryptocurrency.name,\n              amount: transAmount,\n            });\n          } else {\n            transType = 'Venta';\n            transAmount = trans.amount;\n            sell.push({\n              transaction: index,\n              transactionType: transType,\n              crypto: trans.cryptocurrency.name,\n              amount: transAmount,\n            });\n          }\n          all.push({\n            transaction: index,\n            transactionType: transType,\n            crypto: trans.cryptocurrency.name,\n            amount: transAmount,\n          });\n          index -= 1;\n        });\n        setAllTransactions(all);\n        setSellTransactions(sell);\n        setBuyTransactions(buy);\n      });\n  }, []);\n\n  return (\n    <Container>\n      <Row>\n        <Col span={8} />\n        <Col span={8}>\n          <div className=\"site-card-border-less-wrapper\">\n            <Card size=\"small\" title={username} style={{ width: 250, height: 170 }}>\n              <p>\n                <span className=\"contentCard\">Email: </span>\n                <span className=\"dataCard\">{email}</span>\n                <br />\n                <span className=\"contentCard\">Account: </span>\n                <span className=\"dataCard\">{account}</span>\n                <br />\n                <span className=\"contentCard\">CLP Balance: </span>\n                <span className=\"dataCard\">{clpBalance}</span>\n                <br />\n                <span className=\"contentCard\"> BTF Balance: </span>\n                <span className=\"dataCard\">{btfBalance}</span>\n                <br />\n                <span className=\"contentCard\">BTH Balance: </span>\n                <span className=\"dataCard\">{bthBalance}</span>\n              </p>\n            </Card>\n          </div>\n        </Col>\n        <Col span={8} />\n      </Row>\n      <br></br>\n      <Row>\n        <Col span={24}>\n          <div>\n            <Row>\n              <Col span={4}></Col>\n              <Col span={16}>\n                <Tabs class=\"transaction-tables\" defaultActiveKey=\"1\" type=\"card\" size=\"small\">\n                  <TabPane id=\"summaryTab1\" tab=\"Transacciones\" key=\"1\">\n                    <Table\n                      dataSource={allTransactions}\n                      columns={transactionsColumns}\n                      scroll={{ y: 150 }}\n                      pagination={false}\n                    />\n                  </TabPane>\n                  <TabPane id=\"summaryTab2\" tab=\"Ventas\" key=\"2\">\n                    <Table\n                      dataSource={sellTransactions}\n                      columns={transactionsColumns}\n                      scroll={{ y: 150 }}\n                      pagination={false}\n                    />\n                  </TabPane>\n                  <TabPane id=\"summaryTab3\" tab=\"Compras\" key=\"3\">\n                    <Table\n                      dataSource={buyTransactions}\n                      columns={transactionsColumns}\n                      scroll={{ y: 150 }}\n                      pagination={false}\n                    />\n                  </TabPane>\n                </Tabs>\n              </Col>\n              <Col span={4}></Col>\n            </Row>\n          </div>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default LoggedHome;\n"]},"metadata":{},"sourceType":"module"}